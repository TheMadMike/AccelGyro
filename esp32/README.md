# Software for ESP32

Basic program for onboard ESP32, should serve the following purposes:

- loading the FPGA bitstream from the SD card onto the XC7S15,

- collecting the measurment data from the FPGA,

- sending the collected data via Wi-Fi.


# Building and running

**Dependencies**:

- [ESP-IDF](https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/index.html)
- CMake

**Steps:**

1. Clone this repository, and open a terminal in the *esp32* directory

2. Place a *default.bit* bitstream file (generated by XST) into the *overlay/* directory.

3. Insert the SD card into the slot on the [board](https://wiki.seeedstudio.com/Spartan-Edge-Accelerator-Board/)

4. Connect your board via USB

5. Type:

```
idf.py build
idf.py -p {PORT_NAME} flash
```

{PORT_NAME} - i.e. /dev/ttyUSB0


7. Optionally you can see the ESP serial ouput by typing:

```
idf.py monitor
```

